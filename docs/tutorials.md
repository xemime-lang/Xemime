# チュートリアル

Xemime は、小規模なソフトウェア開発を目的として開発された、  
オブジェクト指向プログラミング言語です。  
Windows, macOS, Linux で実行環境を導入することができます。  
実行環境には、「対話的実行環境」と「ソースファイル実行環境」が含まれています。

## コマンド操作

対話的実行環境
```
java -jar Xemime-1.0a3.jar
```

ソースコードを指定して実行
```
java -jar Xemime-1.0a3.jar [Source File Path]
```

# Xemime 基本文法

( 以下、 ``// => ...`` は出力内容、``// -> ...`` は戻り値を表します )

```
Core.println("Hello, world!")  // => "Hello, world!", -> unit
println("Hello, world!")
println $ "Hello, world!"
println $ println  // => <Native>, -> unit
println $ println $ "abc"  // => "abc", -> unit
```

組み込み関数は ``Core`` オブジェクトのメソッドとして実装されています。  
``Core`` オブジェクトに限りメソッド名がはじめからグローバル環境で  
宣言されているため、``Core.`` の部分を省略して指定することができます。

``[関数オブジェクト] ( [引数リスト] )`` で呼び出すこともできますが、  
閉じ括弧が行末に来る場合、 ``[関数オブジェクト] $ [引数リスト]`` のように  
省略表記することができます。

関数オブジェクト自体を出力させると、それが組み込み関数の場合は ``<Native>`` 、  
後述するユーザー定義関数の場合は ``<Function>`` 、   
ラムダ式で生成された関数の場合は ``<Lambda>`` と出力されます。

すべての関数は必ず値を返さなければならないため、  
``println`` ``print`` メソッドなどは意味のない値 ``unit`` を返します。

```
(1 + 2) * (8 / 2 - 2)  // -> 6
1 == 2  // -> NIL
3 > 2   // -> T
T && NIL  // -> NIL
NIL || T  // -> T
T ^ NIL   // -> T
```

算術演算子 ``+`` , ``-`` , ``*`` , ``/`` と比較演算子 ``==`` , ``!=`` , ``>`` , ``>=`` , ``<`` , ``<=`` 、<br>
論理演算子 ``&&`` , ``||`` , ``^`` が使用可能です。

```
fn add(a : Int, b : Int) -> Int {
    return a + b
}

println $ add(1, 2)  // => 3
println $ add $ 1, 2 // => 3
println $ 1 `add` 2  // => 3
```

``fn [関数名]([引数リスト]) -> [戻り値の型] { ... }`` で関数を定義します。  
``return [戻り値]`` で関数の処理を終了し値を返します。

通常の関数呼び出し以外に、引数を2つ取る関数の場合は、シンボルをシングルクォートで挟み込んで  
**中置関数** に変換して2項演算子のように扱うことができます。

```
let a : Int = 2
let b : Double = 3.0
let c : String = "abc"
let d : Bool = T
let e : [Int] = [1, 2, 3]
```

``let`` 文で変数を宣言・初期化します。  
変数名の後ろに ``: [型名]`` を記述して型を指定します。  
記述しない場合は初期値の評価結果に準じます。

```
let obj = Object.clone();
obj.prop = 1
obj.method = #x -> x + 2

println $ obj.prop  // => 1
println $ obj.method $ 3  // => 5
```

``Object.clone`` メソッドで最も単純なオブジェクトを生成します。  
``[シンボル].[メンバ名]`` でメンバを取り出し、値が関数オブジェクトとなっているメンバについては、  
メソッドとして、通常の関数と同じく呼び出すことができます。
